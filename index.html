<!doctype html>
<html lang="en">
<head>
<link rel="stylesheet" href="styles.css">  
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<link rel="icon" href="/favicon.png">
<title>Silky Road – Digital Marketplace</title>

<meta name="description" content="Welcome to Silky Road — an all-in-one e-commerce platform and digital marketplace for buying and selling digital products instantly. Secure payments, automated delivery, and zero shipping required.">
<meta name="keywords" content="digital marketplace, buy digital products, sell digital products, instant downloads, ebooks, art downloads, music, photography, software, online store">

<style>
body{font-family:Arial,Helvetica,sans-serif;margin:0;padding:0;background:#f7f7f9;color:#222}
.header{background:#fff;border-bottom:1px solid #e4e4e8}
.container{max-width:1100px;margin:0 auto;padding:16px}
nav{display:flex;align-items:center;justify-content:space-between}
nav .links a{margin-left:12px;text-decoration:none;color:#333;font-weight:600}
nav .links button{background:#2b6ef6;color:#fff;border:none;padding:10px 14px;border-radius:6px;cursor:pointer}

.banner{position:relative}
.banner img{width:100%;height:auto;display:block}
.banner-text{display:none !important;}

.category-bar{
  margin:20px 0;
  background:#ffffff;
  padding:12px;
  border:1px solid #e6e6ea;
  display:flex;
  gap:20px;
  font-weight:bold;
  flex-wrap:wrap;
}
.category-bar > div{position:relative; cursor:pointer;}
.category-bar div ul{
  display:none;
  position:absolute;
  background:#fff;
  list-style:none;
  padding:10px;
  margin:0;
  border:1px solid #ccc;
  width:220px;
  z-index:999;
}
.category-bar div:hover ul{display:block;}
.category-bar ul li{padding:6px 0;}
.category-bar a{text-decoration:none;color:#333;font-weight:normal;}

.row{display:flex;gap:16px;margin-top:16px}
.main{flex:1}

.product-grid{
  display:flex;
  flex-wrap:wrap;
  gap:12px;
}
.card{
  background:#fff;
  padding:12px;
  border:1px solid #e6e6ea;
  width:calc(25% - 9px);
  box-sizing:border-box;
  margin-bottom:12px;
}

/* Logo styling */
.logo-img {
  height: 39px; /* Adjust the logo size */
  width: auto;
  vertical-align: middle;
}

/* MOBILE */
@media(max-width:600px){
  .card{width:calc(50% - 6px);}
}

.footer{background:#222;color:#fff;padding:12px;margin-top:20px;text-align:center}
button{background:#2b6ef6;color:#fff;border:none;padding:10px 14px;border-radius:6px;cursor:pointer}
</style>
</head>

<body>

<!-- Shared Header -->
<div id="header"></div>
<script>
  fetch("header.html?v=1")
    .then(r => r.text())
    .then(d => document.getElementById("header").innerHTML = d)
    .catch(e => console.error("Header load failed:", e));
</script>

<div class="banner">
  <img src="banner.jpg" alt="Silky Road Banner">
  <div class="banner-text">
    <h1>Discover & Download Digital Products Instantly</h1>
    <p>Ebooks, art, music, software, and more — delivered automatically with no shipping required.</p>
  </div>
</div>

<main class="container">

  <p style="margin-top:12px;font-size:18px">
    Welcome to <strong>Silky Road</strong> — an all-in-one e-commerce platform and digital marketplace where you can buy and sell digital products instantly. Enjoy secure payments, automated delivery, and a seamless experience with zero shipping required.
  </p>

  <!-- Updated Top Horizontal Category Bar -->
  <div class="category-bar">
    <div>Educational
      <ul>
        <li><a href="category.html?category=Educational&sub=eBooks">eBooks</a></li>
        <li><a href="category.html?category=Educational&sub=Online Courses">Online Courses</a></li>
        <li><a href="category.html?category=Educational&sub=Worksheets">Worksheets</a></li>
        <li><a href="category.html?category=Educational&sub=Tutorials">Tutorials</a></li>
        <li><a href="category.html?category=Educational&sub=Digital Workbooks">Digital Workbooks</a></li>
      </ul>
    </div>
    <div>Creative Assets
      <ul>
        <li><a href="category.html?category=Creative Assets&sub=Stock Photos">Stock Photos</a></li>
        <li><a href="category.html?category=Creative Assets&sub=Videos">Videos</a></li>
        <li><a href="category.html?category=Creative Assets&sub=Music / Audio Tracks">Music / Audio Tracks</a></li>
        <li><a href="category.html?category=Creative Assets&sub=Sound Effects">Sound Effects</a></li>
        <li><a href="category.html?category=Creative Assets&sub=Digital Art">Digital Art</a></li>
        <li><a href="category.html?category=Creative Assets&sub=Fonts">Fonts</a></li>
        <li><a href="category.html?category=Creative Assets&sub=Brushes">Brushes</a></li>
        <li><a href="category.html?category=Creative Assets&sub=Lightroom Presets">Lightroom Presets</a></li>
        <li><a href="category.html?category=Creative Assets&sub=3D Models">3D Models</a></li>
        <li><a href="category.html?category=Creative Assets&sub=UI Kits">UI Kits</a></li>
        <li><a href="category.html?category=Creative Assets&sub=Website Themes">Website Themes</a></li>
      </ul>
    </div>
    <div>Productivity
      <ul>
        <li><a href="category.html?category=Productivity&sub=Planners">Planners</a></li>
        <li><a href="category.html?category=Productivity&sub=Journals">Journals</a></li>
        <li><a href="category.html?category=Productivity&sub=Social Media Packs">Social Media Packs</a></li>
        <li><a href="category.html?category=Productivity&sub=Business Templates">Business Templates</a></li>
        <li><a href="category.html?category=Productivity&sub=Spreadsheets">Spreadsheets</a></li>
        <li><a href="category.html?category=Productivity&sub=Notion Templates">Notion Templates</a></li>
      </ul>
    </div>
    <div>Templates
      <ul>
        <li><a href="category.html?category=Templates&sub=Canva Templates">Canva Templates</a></li>
        <li><a href="category.html?category=Templates&sub=Website Themes">Website Themes</a></li>
        <li><a href="category.html?category=Templates&sub=Digital Stickers">Digital Stickers</a></li>
        <li><a href="category.html?category=Templates&sub=Printable Games">Printable Games</a></li>
        <li><a href="category.html?category=Templates&sub=Craft Patterns">Craft Patterns</a></li>
        <li><a href="category.html?category=Templates&sub=Email Templates">Email Templates</a></li>
      </ul>
    </div>
  </div>

  <section class="main">
  <h3>Featured products</h3>
  <div id="featuredGrid" class="product-grid"></div>
  <p id="featuredEmpty" class="text-muted"></p>
</section>


</main>

<footer class="footer"></footer>
<script type="module">
  import { supabase } from "./js/supabase-config.js";

  const featuredGrid = document.getElementById("featuredGrid");
  const featuredEmpty = document.getElementById("featuredEmpty");

  async function loadFeatured() {
    const { data, error } = await supabase
      .from("products")
      .select("*")
      .order("created_at", { ascending: false })
      .limit(12);

    if (error) {
      console.error(error);
      featuredEmpty.textContent = "Error loading products.";
      return;
    }

    if (!data || data.length === 0) {
      featuredEmpty.textContent = "No products available yet. Check back soon!";
      return;
    }

    data.forEach(p => {
      const card = document.createElement("div");
      card.className = "card";

      const img = document.createElement("img");
      img.src = p.thumbnail_url || "placeholder.jpg";
      img.alt = p.title || "Product";
      img.style.width = "100%";
      img.style.borderRadius = "6px";
      img.style.cursor = "pointer";
      img.addEventListener("click", () => {
        window.location.href = "product.html?id=" + p.id;
      });

      const title = document.createElement("h4");
      const link = document.createElement("a");
      link.href = "product.html?id=" + p.id;
      link.textContent = p.title || "Untitled";
      link.style.textDecoration = "none";
      link.style.color = "#222";
      title.appendChild(link);

      const type = document.createElement("p");
      type.innerHTML = `<small>${p.category || ""} ${p.subcategory ? "– " + p.subcategory : ""}</small>`;

      const price = document.createElement("p");
      price.innerHTML = "<strong>USD " + (p.price || 0).toFixed(2) + "</strong>";

      card.appendChild(img);
      card.appendChild(title);
      card.appendChild(type);
      card.appendChild(price);

      featuredGrid.appendChild(card);
    });
  }

  loadFeatured();
</script>

</body>
</html>
