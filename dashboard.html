<!doctype html>
<html lang="en">
<head>
<link rel="stylesheet" href="styles.css">  
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<link rel="icon" href="/favicon.png">
<title>Silky Road – Seller Dashboard</title>

<meta name="description" content="Seller Dashboard for Silky Road – upload digital products, manage listings, and view sales.">
<meta name="keywords" content="seller dashboard, digital marketplace, sell digital products, silky road">

<style>
body{font-family:Arial,Helvetica,sans-serif;margin:0;padding:0;background:#f7f7f9;color:#222}
.header{background:#fff;border-bottom:1px solid #e4e4e8}
.container{max-width:1100px;margin:0 auto;padding:16px}
nav{display:flex;align-items:center;justify-content:space-between}
nav .links a{margin-left:12px;text-decoration:none;color:#333;font-weight:600}
nav .links button{background:#2b6ef6;color:#fff;border:none;padding:10px 14px;border-radius:6px;cursor:pointer}

.banner{position:relative}
.banner img{width:100%;height:auto;display:block}
.banner-text{display:none !important;}

.category-bar{
  margin:20px 0;
  background:#ffffff;
  padding:12px;
  border:1px solid #e6e6ea;
  display:flex;
  gap:20px;
  font-weight:bold;
  flex-wrap:wrap;
}
.category-bar > div{position:relative; cursor:pointer;}
.category-bar div ul{
  display:none;
  position:absolute;
  background:#fff;
  list-style:none;
  padding:10px;
  margin:0;
  border:1px solid #ccc;
  width:220px;
  z-index:999;
}
.category-bar div:hover ul{display:block;}
.category-bar ul li{padding:6px 0;}
.category-bar a{text-decoration:none;color:#333;font-weight:normal;}

.card{
  background:#fff;
  padding:12px;
  border:1px solid #e6e6ea;
  box-sizing:border-box;
  margin-bottom:12px;
  border-radius:8px;
  box-shadow:0 2px 6px rgba(0,0,0,0.05);
}

/* Logo styling */
.logo-img {
  height: 39px;
  width: auto;
  vertical-align: middle;
}

.footer{background:#222;color:#fff;padding:12px;margin-top:20px;text-align:center}
button{background:#2b6ef6;color:#fff;border:none;padding:10px 14px;border-radius:6px;cursor:pointer}

/* Dashboard Elements */
.flex{display:flex;gap:16px;flex-wrap:wrap}
.products-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:12px}
.product-card img{width:100%;border-radius:6px}

input, textarea{width:100%;padding:8px;margin-top:4px;border:1px solid #ccc;border-radius:4px;box-sizing:border-box}
.btn-primary{background:#2b6ef6;color:#fff}
.btn-secondary{background:#6c757d;color:#fff}
.btn-danger{background:#dc3545;color:#fff}
.hidden{display:none}
.text-muted{color:#777;font-size:13px}
</style>
</head>

<body>

<!-- Shared Header -->
<style>
.logo-img { height: 39px; width: auto; vertical-align: middle; }
</style>
<div id="header"></div>
<script>
  fetch("header.html?v=1")
    .then(r => r.text())
    .then(d => document.getElementById("header").innerHTML = d)
    .catch(e => console.error("Header load failed:", e));
</script>

<!-- Banner -->
<div class="banner">
  <img src="banner.jpg" alt="Silky Road Banner">
  <div class="banner-text">
    <h1>Discover & Download Digital Products Instantly</h1>
    <p>Ebooks, art, music, software, and more — delivered automatically with no shipping required.</p>
  </div>
</div>

<!-- Main Content -->
<main class="container" style="margin-top:16px;">

  <!-- Auth -->
  <div id="authSection" class="card">
    <h3>Seller Sign Up / Login</h3>
    <p class="text-muted">Use email/password or Google to access your seller dashboard.</p>

    <div class="flex">
      <!-- Email Sign Up -->
      <div style="flex:1; min-width:260px;">
        <h4>Email Sign Up</h4>
        <label>First Name</label>
        <input type="text" id="signupFirstName">

        <label>Last Name</label>
        <input type="text" id="signupLastName">

        <label>Email</label>
        <input type="email" id="signupEmail">

        <label>Password</label>
        <input type="password" id="signupPassword">

        <button id="signupBtn" class="btn-primary" style="margin-top:8px;">Sign Up</button>

        <hr style="margin:16px 0;">

        <h4>Email Login</h4>
        <label>Email</label>
        <input type="email" id="loginEmail">

        <label>Password</label>
        <input type="password" id="loginPassword">

        <button id="loginBtn" class="btn-secondary" style="margin-top:8px;">Login</button>

        <p id="authMessage" class="text-muted" style="margin-top:8px;"></p>
      </div>

      <!-- Google -->
      <div style="flex:1; min-width:260px;">
        <h4>Or Sign In with Google</h4>
        <button id="googleLoginBtn" class="btn-primary">Continue with Google</button>
      </div>
    </div>
  </div>

  <!-- Dashboard -->
  <div id="dashboardSection" class="hidden">

    <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:8px;">
      <h2>Seller Dashboard</h2>
      <button id="logoutBtn" class="btn-secondary hidden">Logout</button>
    </div>

    <!-- Profile -->
    <div class="card">
      <h3>Your Seller Profile</h3>
      <p id="welcomeText"></p>

      <label>First Name</label>
      <input type="text" id="profileFirstName">

      <label>Last Name</label>
      <input type="text" id="profileLastName">

      <label>Your Email</label>
      <input type="email" id="profileEmail" disabled>

      <label>Your PayPal Email</label>
      <input type="email" id="profilePaypalEmail">

      <button id="saveProfileBtn" class="btn-primary" style="margin-top:8px;">Save Profile</button>
      <p id="profileMessage" class="text-muted" style="margin-top:8px;"></p>
    </div>

    <!-- Upload -->
    <div class="card">
      <h3>Upload New Product</h3>

      <label>Thumbnail (JPG)</label>
      <input type="file" id="thumbnailInput" accept="image/jpeg">

      <label>Title</label>
      <input type="text" id="productTitle">

      <label>Description</label>
      <textarea id="productDescription" rows="4"></textarea>

      <label>Price (USD)</label>
      <input type="number" id="productPrice" min="0" step="0.01">

      <label>File (max 10MB)</label>
      <input type="file" id="fileInput">

      <label>External Download Link</label>
      <input type="text" id="externalLink">

      <p class="text-muted">
        If your file is more than 10MB, you can paste your external download link here.
      </p>

      <button id="uploadProductBtn" class="btn-primary" style="margin-top:8px;">Save Product</button>
      <p id="uploadMessage" class="text-muted"></p>
    </div>

    <!-- Products & Sales -->
    <div class="flex">
      <!-- Products -->
      <div class="card" style="flex:2; min-width:320px;">
        <h3>Your Products</h3>
        <div id="productsList" class="products-grid"></div>
        <p id="noProductsMessage" class="text-muted"></p>
      </div>

      <!-- Sales -->
      <div class="card" style="flex:1; min-width:260px;">
        <h3>Sales Summary</h3>
        <p>Total Orders: <strong id="totalOrders">0</strong></p>
        <p>Total Revenue: <strong id="totalRevenue">0.00</strong></p>
        <h4 style="margin-top:12px;">Recent Orders</h4>
        <ul id="recentOrdersList" class="text-muted" style="padding-left:18px;"></ul>
      </div>
    </div>
  </div>

</main>

<footer class="footer"></footer>

<script type="module" src="dashboard-logic.js"></script>

</body>
</html>
