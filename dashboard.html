<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<link rel="icon" href="/favicon.png">
<title>Seller Dashboard â€“ Silky Road</title>

<meta name="description" content="Seller dashboard for Silky Road â€“ upload, manage, and sell digital products easily.">
<meta name="keywords" content="digital marketplace, seller dashboard, upload digital products, ebooks, art, music, software">

<style>
body{font-family:Arial,Helvetica,sans-serif;margin:0;padding:0;background:#f7f7f9;color:#222}
.header{background:#fff;border-bottom:1px solid #e4e4e8}
.container{max-width:1100px;margin:0 auto;padding:16px}
nav{display:flex;align-items:center;justify-content:space-between}
nav .links a{margin-left:12px;text-decoration:none;color:#333;font-weight:600}
nav .links button{background:#2b6ef6;color:#fff;border:none;padding:10px 14px;border-radius:6px;cursor:pointer}

input, select{width:100%;padding:8px;margin-bottom:8px;border:1px solid #cfcfd3;border-radius:4px}
button{background:#2b6ef6;color:#fff;border:none;padding:10px 14px;border-radius:6px;cursor:pointer}

.card{background:#fff;padding:12px;border:1px solid #e6e6ea;margin-bottom:12px}
.product-grid{display:flex;flex-wrap:wrap;gap:12px}
.card{width:calc(25% - 9px);box-sizing:border-box}

/* MOBILE */
@media(max-width:600px){
  .card{width:calc(50% - 6px);}
}

.footer{background:#222;color:#fff;padding:12px;margin-top:20px;text-align:center}
/* Logo styling */
.logo-img {
  height: 39px; /* Adjust the logo size */
  width: auto;
  vertical-align: middle;
</style>

<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
<script src="js/supabase-config.js"></script>
<script src="js/dashboard-auth.js"></script>
</head>

<body>

<div id="header"></div>
<script>
  fetch("header.html?v=1")
    .then(r => r.text())
    .then(d => document.getElementById("header").innerHTML = d)
    .catch(e => console.error("Header load failed:", e));
</script>


<main class="container">

  <p id="welcome-message" style="margin-top:12px;font-size:18px">ðŸ‘‹ Welcome, seller</p>
  <button id="logoutBtn" style="margin-bottom:16px;">Logout</button>

  <section id="dashboard-content">
    <h3>Upload New Product</h3>
    <form id="upload-form">
      <!-- Product Title -->
      <input type="text" id="product-title" placeholder="Product Title" required><br>
      
      <!-- Main Category -->
      <select id="product-category" required>
        <option value="">Select Category</option>
        <option value="Educational">Educational</option>
        <option value="Creative Assets">Creative Assets</option>
        <option value="Productivity">Productivity</option>
        <option value="Templates">Templates</option>
      </select><br>

      <!-- Sub-Category (populated dynamically) -->
      <select id="product-sub-category" required>
        <option value="">Select Sub-Category</option>
      </select><br>

      <!-- Price -->
      <input type="number" id="product-price" placeholder="Price (optional)" step="0.01"><br>
      
      <!-- File Upload -->
      <input type="file" id="product-file" accept=".pdf,.epub,.txt,.docx,.doc,.jpg,.png,.gif,.tiff,.mp3,.mp4,.aac,.exe,.dotx,.xltx,.potx,.zip" required><br>
      
      <button type="submit">Upload Product</button>
    </form>
    <p id="upload-status"></p>

    <hr style="margin:20px 0">

    <h3>Your Uploaded Products</h3>
    <div id="seller-products"></div>
  </section>

</main>

<footer class="footer">
  Silky Road Digital Marketplace â€” Demo package
</footer>

<script>
// Map main categories to their sub-categories
const subCategoryMap = {
  "Educational": ["eBooks","Online Courses","Worksheets","Tutorials","Digital Workbooks"],
  "Creative Assets": ["Stock Photos","Videos","Music / Audio Tracks","Sound Effects","Digital Art","Fonts","Brushes","Lightroom Presets","3D Models","UI Kits","Website Themes"],
  "Productivity": ["Planners","Journals","Social Media Packs","Business Templates","Spreadsheets","Notion Templates"],
  "Templates": ["Canva Templates","Website Themes","Digital Stickers","Printable Games","Craft Patterns","Email Templates"]
};

const categorySelect = document.getElementById("product-category");
const subCategorySelect = document.getElementById("product-sub-category");

// Update sub-category options when main category changes
categorySelect.addEventListener("change", () => {
  const selectedCategory = categorySelect.value;
  subCategorySelect.innerHTML = '<option value="">Select Sub-Category</option>';
  if (subCategoryMap[selectedCategory]) {
    subCategoryMap[selectedCategory].forEach(sub => {
      const option = document.createElement("option");
      option.value = sub;
      option.textContent = sub;
      subCategorySelect.appendChild(option);
    });
  }
});
</script>

</body>
</html>
