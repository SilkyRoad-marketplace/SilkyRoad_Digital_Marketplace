<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Reset Password â€“ Silky Road</title>
<link rel="stylesheet" href="styles.css">
</head>

<body>

<h2 style="text-align:center;">Reset Your Password</h2>

<div style="max-width:400px;margin:20px auto;" class="card">

  <form id="resetForm">
    <label>New Password</label>
    <input type="password" id="newPassword" style="width:100%;padding:10px;margin-top:8px;border:1px solid #ccc;border-radius:6px;">

    <button type="submit" style="margin-top:16px;padding:10px 20px;">Reset Password</button>
  </form>

  <p id="message" style="margin-top:10px;color:#555;"></p>

</div>

<script type="module">
  import { supabase } from "./supabase-config.js";

  const form = document.getElementById("resetForm");
  const message = document.getElementById("message");

  form.addEventListener("submit", async (e) => {
    e.preventDefault();

    const newPassword = document.getElementById("newPassword").value;

    const { error } = await supabase.auth.updateUser({
      password: newPassword
    });

    if (error) {
      message.textContent = "Error resetting password.";
      console.error(error);
      return;
    }

    message.textContent = "Password reset successful! You can now log in.";
  });
</script>

</body>
</html>
