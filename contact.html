<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1">
<title>Contact Us - Silky Road</title>

<link rel="icon" href="/favicon.png">
<link rel="stylesheet" href="styles.css">

<style>
body{font-family:Arial,Helvetica,sans-serif;margin:0;padding:0;background:#f7f7f9;color:#222}
.header{background:#fff;border-bottom:1px solid #e4e4e8}
.container{max-width:1100px;margin:0 auto;padding:16px}
nav{display:flex;align-items:center;justify-content:space-between}
nav .links a{margin-left:12px;text-decoration:none;color:#333;font-weight:600}
nav .links button{background:#2b6ef6;color:#fff;border:none;padding:10px 14px;border-radius:6px;cursor:pointer}
.banner img{width:100%;height:auto;display:block}
.row{display:flex;gap:16px;margin-top:16px}
.sidebar{width:220px;background:#fff;padding:12px;border:1px solid #e6e6ea}
.main{flex:1}
.product-grid{display:flex;flex-wrap:wrap;gap:12px}
.card{background:#fff;padding:12px;border:1px solid #e6e6ea;width:calc(33.333% - 8px);box-sizing:border-box}
.footer{background:#222;color:#fff;padding:12px;margin-top:20px;text-align:center}
.pagination{margin-top:12px;text-align:center}
button, input[type=submit]{background:#2b6ef6;color:#fff;border:none;padding:10px 14px;border-radius:6px;cursor:pointer}
input, textarea{width:100%;padding:8px;margin-bottom:8px;border:1px solid #cfcfd3;border-radius:4px}
small{color:#666}
.notice{background:#fff3cd;padding:10px;border:1px solid #ffeeba;margin-bottom:12px}

/* Logo styling */
.logo-img {
  height: 39px;
  width: auto;
  vertical-align: middle;
}
</style>

</head>
<body>

<!-- HEADER LOADER -->
<div id="header"></div>
<script>
  fetch("header.html?v=1")
    .then(r => r.text())
    .then(d => document.getElementById("header").innerHTML = d)
    .catch(e => console.error("Header load failed:", e));
</script>

<div class="banner"><img src="banner.jpg" alt="Banner"></div>

<main class="container">
  <h2>Contact Us</h2>
  <p>Fill in the form below to contact us.</p>

  <form id="contactForm">
    <label>First Name<input id="firstName" required></label>
    <label>Last Name<input id="lastName" required></label>
    <label>Email Address<input id="email" type="email" required></label>
    <label>Message<textarea id="message" rows="6" required></textarea></label>
    <input type="submit" value="Send">
  </form>

  <div id="status"></div>
</main>

<footer class="footer"></footer>

<!-- SECURE EMAIL SENDER USING RESEND + VERCEL API -->
<script>
document.getElementById("contactForm").addEventListener("submit", async function(e){
  e.preventDefault();

  const status = document.getElementById("status");
  status.textContent = "Sending...";

  const payload = {
    firstName: document.getElementById("firstName").value.trim(),
    lastName: document.getElementById("lastName").value.trim(),
    email: document.getElementById("email").value.trim(),
    message: document.getElementById("message").value.trim()
  };

  try {
    const res = await fetch("/api/contact", {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify(payload)
    });

    const data = await res.json();

    if (data.success) {
      status.textContent = "Message sent successfully!";
      document.getElementById("contactForm").reset();
    } else {
      status.textContent = "Email send failed.";
    }
  } catch (err) {
    console.error(err);
    status.textContent = "Error sending message.";
  }
});
</script>

</body>
</html>
